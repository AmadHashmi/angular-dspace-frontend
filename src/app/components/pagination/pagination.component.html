@if (pagination && totalPages > 1) {
<div class="pagination-container">
  <div class="page-info">
    <span class="showing-text">
      Showing {{ startElement }}-{{ endElement }} of
      {{ totalElements }} communities
    </span>
  </div>

  <div class="pagination-controls">
    <button
      class="pagination-btn first-page"
      [disabled]="isFirstPage || loading"
      (click)="goToPage(0)"
      title="Go to first page"
    >
      <span>«</span>
    </button>

    <button
      class="pagination-btn prev-page"
      [disabled]="isFirstPage || loading"
      (click)="goToPage(currentPage - 1)"
      title="Go to previous page"
    >
      <span>‹</span>
    </button>

    <div class="page-numbers">
      @for (pageNum of getPageNumbers(); track pageNum) {
      <button
        class="pagination-btn page-number"
        [class.active]="pageNum === currentPage"
        [disabled]="loading"
        (click)="goToPage(pageNum)"
      >
        {{ pageNum + 1 }}
      </button>
      } @if (getPageNumbers().length < totalPages) {
      <span class="ellipsis">...</span>
      }
    </div>

    <button
      class="pagination-btn next-page"
      [disabled]="isLastPage || loading"
      (click)="goToPage(currentPage + 1)"
      title="Go to next page"
    >
      <span>›</span>
    </button>

    <button
      class="pagination-btn last-page"
      [disabled]="isLastPage || loading"
      (click)="goToPage(totalPages - 1)"
      title="Go to last page"
    >
      <span>»</span>
    </button>
  </div>

  <div class="current-page-info">
    Page {{ currentPage + 1 }} of {{ totalPages }}
  </div>
</div>
}
